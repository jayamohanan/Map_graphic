<!-- 
README:
========
This file uses a versioning system in the <title> and <h1> tags to track updates.

Guidelines:
1. Each time you make any change to this file, increment the version number.
   Example: v2.4 → v2.5 → v2.6, etc.
Current Version: v2.5
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Local Body Map v2.5</title>
  <style>
    #map { height: 90vh; width: 100%; }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet-geojson-vt@3.0.0/leaflet-geojson-vt.min.js"></script>
</head>
<body>
  <h1>Local Body Map v2.5</h1>
  <div id="map"></div>
  <script>
    // Initialize the map
    const map = L.map('map').setView([11.25, 75.78], 10);

    // Add base layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // Example function to fetch and render boundaries from Wikidata QIDs
    async function loadLocalBody(qid) {
      const url = `https://query.wikidata.org/sparql?format=json&query=
        SELECT ?geo WHERE {
          wd:${qid} wdt:P3896 ?geo .
        }`;

      const response = await fetch(url);
      const data = await response.json();
      if (data.results.bindings.length > 0) {
        const wkt = data.results.bindings[0].geo.value;
        const geojson = Terraformer.WKT.parse(wkt);
        L.geoJSON(geojson, {
          style: { color: 'blue', weight: 2 }
        }).addTo(map);
      }
    }

    // Example call: replace with actual local body QIDs
    loadLocalBody("Q13112599"); // sample local body
  </script>
  <script src="https://unpkg.com/terraformer@1.0.12"></script>
  <script src="https://unpkg.com/terraformer-wkt-parser@1.2.1"></script>
</body>
</html>
